(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user"],{1511:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"p-5 xl:px-0"},[a("div",{staticClass:"grid grid-cols-1 gap-10 md:grid-cols-2 lg:grid-cols-3"},[a("AuthUser",{staticClass:"p-5 bg-white border rounded shadow"}),a("Logout",[e._v("LogOut")]),a("AuthUserForm",{staticClass:"p-5 bg-white border rounded shadow"}),a("UpdatePassword",{staticClass:"p-5 bg-white border rounded shadow"}),a("FileUpload",{staticClass:"p-5 bg-white border rounded shadow",attrs:{label:"Upload Avatar",fileTypes:["image/*"],endpoint:"/users/auth/avatar"},on:{fileUploaded:e.updateUser}})],1)])},r=[],n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.authUser?a("div",[a("transition",{attrs:{name:"fade"}},[e.authUser.avatar?a("img",{staticClass:"w-16 h-16 rounded-full lg:w-20 lg:h-20",attrs:{src:e.authUser.avatar,alt:""}}):e._e()]),a("ul",[a("li",{staticClass:"mb-1 font-bold"},[e._v(e._s(e.authUser.name))]),a("li",[e._v("Email: "+e._s(e.authUser.email))]),e.authUser.emailVerified?a("li",{staticClass:"text-green-500"},[e._v(" Emailed Verified ")]):a("li",{staticClass:"text-gray-500"},[e._v(" We've sent you an verification link via email.Please click and verify account. ")])])],1):e._e()},l=[],o=a("5530"),i=a("2f62"),u={name:"AuthUser",components:{},computed:Object(o["a"])({},Object(i["b"])("auth",["authUser"]))},d=u,c=a("2877"),p=Object(c["a"])(d,n,l,!1,null,null,null),m=p.exports,f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{on:{submit:function(t){return t.preventDefault(),e.uploadFile.apply(null,arguments)}}},[a("div",{staticClass:"mb-4"},[a("label",{staticClass:"sr-only",attrs:{for:"file"}},[e._v(" "+e._s(e.label)+" ")]),a("input",{attrs:{type:"file",accept:e.fileTypes,id:"file"},on:{change:e.fileChange}})]),a("BaseBtn",{attrs:{text:"Upload"}}),a("FlashMessage",{attrs:{message:e.message,error:e.error}})],1)},h=[],g=a("2fa3"),b=a("68f7"),w=a("fce9"),v={uploadFile:function(e){return w["a"].post(e.endpoint,e.file)}},C=a("2f86"),U={name:"FileUpload",props:{fileTypes:{type:Array,default:null},endpoint:{type:String,required:!0},label:{type:String,default:""}},components:{BaseBtn:b["a"],FlashMessage:C["a"]},data:function(){return{file:null,message:null,error:null}},methods:{clearMessage:function(){this.error=null,this.message=null},fileChange:function(e){this.clearMessage(),this.file=e.target.files[0]},uploadFile:function(){var e=this,t={},a=new FormData;a.append("file",this.file),t.file=a,t.endpoint=this.endpoint,this.clearMessage(),v.uploadFile(t).then((function(){e.message="File uploaded.",e.$emit("fileUploaded")})).catch((function(t){return e.error=Object(g["a"])(t)}))}}},y=U,x=Object(c["a"])(y,f,h,!1,null,null,null),_=x.exports,P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{on:{submit:function(t){return t.preventDefault(),e.updateUser.apply(null,arguments)}}},[a("BaseInput",{staticClass:"mb-2",attrs:{type:"text",label:"Name",name:"name"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("BaseInput",{staticClass:"mb-4",attrs:{type:"email",label:"Email",name:"email",autocomplete:"email",placeholder:"luke@jedi.com"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("BaseBtn",{attrs:{type:"submit",text:"Update"}}),a("FlashMessage",{attrs:{message:e.message,error:e.error}})],1)},F=[],B=(a("b0c0"),a("b3b3")),j=a("b012"),O={name:"AuthUserForm",components:{BaseBtn:b["a"],BaseInput:B["a"],FlashMessage:C["a"]},data:function(){return{name:null,email:null,error:null,message:null}},computed:Object(o["a"])({},Object(i["b"])("auth",["authUser"])),methods:{updateUser:function(){var e=this;this.error=null,this.message=null;var t={name:this.name,email:this.email};j["a"].updateUser(t).then((function(){return e.$store.dispatch("auth/getAuthUser")})).then((function(){return e.message="User updated."})).catch((function(t){return e.error=Object(g["a"])(t)}))}},mounted:function(){this.name=this.authUser.name,this.email=this.authUser.email}},k=O,$=Object(c["a"])(k,P,F,!1,null,null,null),A=$.exports,E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{on:{submit:function(t){return t.preventDefault(),e.updatePassword.apply(null,arguments)}}},[a("div",{staticClass:"mb-2"},[a("label",{staticClass:"text-sm text-gray-500",attrs:{for:"password"}},[e._v("Current Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.currentPassword,expression:"currentPassword"}],staticClass:"block w-full px-3 py-2 placeholder-gray-400 border border-gray-300 rounded-md shadow-sm appearance-none focus:outline-none focus:ring-blue-500 focus:border-blue-500",attrs:{type:"password",id:"current-password"},domProps:{value:e.currentPassword},on:{input:function(t){t.target.composing||(e.currentPassword=t.target.value)}}})]),a("div",{staticClass:"mb-2"},[a("label",{staticClass:"text-sm text-gray-500",attrs:{for:"password"}},[e._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"block w-full px-3 py-2 placeholder-gray-400 border border-gray-300 rounded-md shadow-sm appearance-none focus:outline-none focus:ring-blue-500 focus:border-blue-500",attrs:{type:"password",id:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),a("div",{staticClass:"mb-4"},[a("label",{staticClass:"text-sm text-gray-500",attrs:{for:"password-confirm"}},[e._v("Confirm Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.passwordConfirm,expression:"passwordConfirm"}],staticClass:"block w-full px-3 py-2 placeholder-gray-400 border border-gray-300 rounded-md shadow-sm appearance-none focus:outline-none focus:ring-blue-500 focus:border-blue-500",attrs:{type:"password",id:"password-confirm"},domProps:{value:e.passwordConfirm},on:{input:function(t){t.target.composing||(e.passwordConfirm=t.target.value)}}})]),a("BaseBtn",{attrs:{type:"submit",text:"Update"}}),a("FlashMessage",{attrs:{message:e.message,error:e.error}})],1)},M=[],L={name:"UpdatePassword",components:{BaseBtn:b["a"],FlashMessage:C["a"]},data:function(){return{currentPassword:null,password:null,passwordConfirm:null,error:null,message:null}},methods:{updatePassword:function(){var e=this;this.error=null,this.message=null;var t={current_password:this.currentPassword,password:this.password,password_confirmation:this.passwordConfirm};j["a"].updatePassword(t).then((function(){return e.message="Password updated."})).catch((function(t){return e.error=Object(g["a"])(t)}))}}},I=L,D=Object(c["a"])(I,E,M,!1,null,null,null),N=D.exports,V=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"inline-flex items-center space-x-2",attrs:{type:"button"},on:{click:e.logout}},[a("span",{staticClass:"sm:inline"},[e._v("Logout")]),a("LogoutIcon",{staticClass:"w-6 h-6 text-white"})],1)},T=[],z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"}},[a("path",{attrs:{"fill-rule":"evenodd",d:"M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z","clip-rule":"evenodd"}})])},J=[],S={name:"LogoutIcon"},q=S,H=Object(c["a"])(q,z,J,!1,null,null,null),W=H.exports,G={components:{LogoutIcon:W},name:"Logout",methods:{logout:function(){this.$store.dispatch("auth/logout")}}},K=G,Q=Object(c["a"])(K,V,T,!1,null,null,null),R=Q.exports,X={name:"UserView",components:{AuthUser:m,FileUpload:_,AuthUserForm:A,UpdatePassword:N,Logout:R},methods:{updateUser:function(){this.$store.dispatch("auth/getAuthUser")}}},Y=X,Z=Object(c["a"])(Y,s,r,!1,null,null,null);t["default"]=Z.exports}}]);
//# sourceMappingURL=user.07282674.js.map